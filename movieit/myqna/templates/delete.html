<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>삭제하시겠습니까?</title>
<link href="css/style.css" rel="stylesheet" type="text/css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="/static/js/script.js" ></script>
<script type="text/javascript">
window.onload = function(){
	document.querySelector("#btnDel").onclick = delFunc;
	document.querySelector("#btnCancel").onclick = cancelFunc;	
}
function delFunc(){
	// 컨펌 modal로 바꿀것?
	if(document.querySelector('#del_passwd').value ===""){
		document.querySelector('#del_passwd').placeholder="비밀번호 입력";
	}else{
		let result=confirm("정말 삭제할까요?");
		if(result){
			document.querySelector('form').submit();
		}
	}
}
function cancelFunc(){
	history.back();
}
</script>
</head>
<body style="margin:20px"> 
<h2>게시글삭제</h2>
<form action="/qna/deleteok" method='post'>{%csrf_token%}
<input type="hidden" name='id' value='{{data_one.id}}' />
<table style="width:95%" class="table">
	<tr>
		<th>삭제하려면 비밀번호를 입력하세요.</th>
	</tr>
	<tr>
		<td>비밀번호: </td>
		<td><input type="text" name='del_passwd' id='del_passwd' /></td>
	</tr>
	<tr>
		<td colspan='2'>
			<input type="button" value='삭제' id='btnDel' />&nbsp;
			<input type="button" value='취소' id='btnCancel' />&nbsp;
		</td>
	</tr>
</table>
</form>
</body>
</html>